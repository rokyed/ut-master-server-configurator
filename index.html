<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UT3 Master Server Configurator</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="navbar">
    <h1>UT3 Master Server Configurator</h1>
    <div class="nav-buttons">
      <button id="theme-toggle" type="button">Toggle Dark Mode</button>
      <a href="https://github.com/rokyed/ut-master-server-configurator" target="_blank" class="github-button">View Source on GitHub</a>
    </div>
  </header>
  <main>
  <ol id="steps">
    <li>
      <h2>1. Select game folder</h2>
      <p id="folder-help">
        Select your <strong>Unreal Tournament 3</strong> installation folder. This folder must contain the
        <code>UTGame</code> subfolder with the configuration files <code>UTEngine.ini</code> and
        <code>UTGame.ini</code>. <br>
        <em>DefaultEngine.ini</em> and <em>DefaultUI.ini</em> will also be updated if present.
      </p>
      <ul class="examples">
        <li>Windows:&nbsp;<code>C:\Program Files (x86)\Unreal Tournament 3</code></li>
        <li>Steam:&nbsp;<code>C:\Program Files (x86)\Steam\steamapps\common\Unreal Tournament 3</code></li>
        <li>macOS/Linux:&nbsp;<code>~/Games/UnrealTournament3</code></li>
      </ul>
      <button id="select-folder">Select Folder</button>
      <input type="file" id="folder-input" webkitdirectory directory multiple style="display:none;" />
      <div id="folder-feedback"></div>
      <div id="files"></div>
    </li>
    <li>
      <h2>2. Review detected configuration</h2>
      <pre id="current-config">Select a folder to load configuration files.</pre>
    </li>
    <li>
      <h2>3. Enter new master server details</h2>
      <label>URL: <input type="text" id="server-url"></label><br>
      <label>Port: <input type="number" id="server-port" min="1" max="65535"></label><br>
      <label><input type="checkbox" id="advertise"> Advertise Server</label><br>
      <label><input type="checkbox" id="include-defaults" checked> Update Default*.ini templates</label>
      <p id="default-help">DefaultEngine.ini and DefaultUI.ini are templates. Updating them keeps your settings even after a reset.</p>
    </li>
    <li>
      <h2>4. Apply changes</h2>
      <div id="files-list"></div>
      <button id="apply">Apply Changes</button>
      <pre id="diff"></pre>
    </li>
    <li>
      <h2>5. Download modified files</h2>
      <div id="downloads"></div>
    </li>
    <li>
      <h2>6. Replace files in your game folder</h2>
      <p>
        ✔ Save these files<br>
        ✔ Navigate to your UT3 install folder<br>
        ✔ Replace these in your <code>UTGame/Config</code> folder<br>
        ✔ Back up the originals first!<br>
        ✔ Start your server as usual
      </p>
    </li>
  </ol>
  </main>
  <script src="script.js"></script>
</body>
</html>
