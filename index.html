<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UT3 Master Server Configurator</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="navbar">
    <h1>UT3 Master Server Configurator</h1>
    <div class="nav-buttons">
      <button id="theme-toggle" type="button">Toggle Dark Mode</button>
      <a href="https://github.com/rokyed/ut-master-server-configurator" target="_blank" class="github-button">View Source on GitHub</a>
    </div>
  </header>
  <main>
  <div class="columns">
  <div class="left-column">
  <ol id="steps">
    <li>
      <h2>1. Select game folder</h2>
      <p id="folder-help">
        Select either your <strong>Unreal Tournament 3</strong> game installation folder (with default configs)
        or your user config folder (with active game configs). The app will adjust whichever files it finds.
        <br>
        <em>DefaultEngine.ini</em>, <em>DefaultUI.ini</em>, <em>BaseEngine.ini</em>, and <em>BaseUI.ini</em> will also be updated if present.
      </p>
      <ul class="examples">
        <li><strong>Game Install (Windows):</strong>&nbsp;<code>C:\Program Files (x86)\Unreal Tournament 3</code></li>
        <li><strong>Game Install (Steam):</strong>&nbsp;<code>C:\Program Files (x86)\Steam\steamapps\common\Unreal Tournament 3</code></li>
        <li><strong>User Config (Windows):</strong>&nbsp;<code>%USERPROFILE%\Documents\My Games\Unreal Tournament 3</code></li>
        <li><strong>User Config (Steam/Proton):</strong>&nbsp;<code>/steamapps/compatdata/13230/pfx/drive_c/users/steamuser/My Documents/My Games/Unreal Tournament 3</code></li>
      </ul>
      <button id="select-folder">Select Folder</button>
      <input type="file" id="folder-input" webkitdirectory directory multiple style="display:none;" />
      <div id="folder-feedback"></div>
      <div id="files"></div>
    </li>
      <li>
        <h2>2. Review detected configuration</h2>
        <p>Loaded configuration will appear in the panel on the right.</p>
      </li>
    <li>
      <h2>3. Enter new master server details</h2>
      <label>URL: <input type="text" id="server-url"></label><br>
      <label>Port: <input type="number" id="server-port" min="1" max="65535"></label><br>
      <label><input type="checkbox" id="advertise"> Advertise Server</label><br>
      <label><input type="checkbox" id="include-defaults" checked> Update Default*.ini templates</label>
      <p id="default-help">DefaultEngine.ini and DefaultUI.ini are templates. Updating them keeps your settings even after a reset.</p>
      <p id="base-help">Base*.ini files are part of the game's config hierarchy. Updating them ensures the settings are consistent even if configs are reset or re-generated.</p>
    </li>
      <li>
        <h2>4. Apply changes</h2>
        <div id="files-list"></div>
        <button id="apply">Apply Changes</button>
      </li>
    <li>
      <h2>5. Download modified files</h2>
      <div id="downloads"></div>
    </li>
    <li>
      <h2>6. Replace files in your game folder</h2>
      <p>
        ✔ Save these files<br>
        ✔ Navigate to your UT3 install folder<br>
        ✔ Replace these in your <code>UTGame/Config</code> folder<br>
        ✔ Back up the originals first!<br>
        ✔ Start your server as usual
      </p>
    </li>
  </ol>
  </div>
  <div class="right-column">
    <h2>Configuration Preview</h2>
    <pre id="current-config" class="config-view">Select a folder to load configuration files.</pre>
    <h2>Changes</h2>
    <pre id="diff" class="config-view"></pre>
  </div>
  </div>
  </main>
  <script src="script.js"></script>
</body>
</html>
